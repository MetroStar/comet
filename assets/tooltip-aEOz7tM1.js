import{j as q}from"./jsx-runtime-Bxcv0yjW.js";import{r as O}from"./index-mfbfsM12.js";import{g as D}from"./_commonjsHelpers-BosuxZz1.js";import{k as g,s as G}from"./select-or-matches-BLLALKpn.js";import{b as j,c as H}from"./config-BXli1stc.js";import{i as U}from"./is-in-viewport-B5ZZJcwh.js";const F=g,x=G,Y=j,{prefix:p}=H,d=U,J="body",A=`.${p}-tooltip`,T=`.${p}-tooltip__trigger`,X=`${p}-tooltip__trigger`,M=`${p}-tooltip`,f=`${p}-tooltip__body`,I="is-set",P="is-visible",b=5,V=`${p}-tooltip__body--wrap`,v=t=>{const s=t.parentNode,i=s.querySelector(`.${f}`);return{trigger:t,wrapper:s,body:i}},R=(t,s,i)=>{t.setAttribute("aria-hidden","false"),t.classList.add(I);const a=e=>{t.classList.remove(`${f}--top`),t.classList.remove(`${f}--bottom`),t.classList.remove(`${f}--right`),t.classList.remove(`${f}--left`),t.classList.add(`${f}--${e}`)},o=e=>{e.style.top=null,e.style.bottom=null,e.style.right=null,e.style.left=null,e.style.margin=null},c=(e,n)=>parseInt(window.getComputedStyle(e).getPropertyValue(n),10),r=(e,n,l)=>c(l,`margin-${e}`)>0?n-c(l,`margin-${e}`):n,_=e=>{o(e);const n=r("top",e.offsetHeight,s),l=r("left",e.offsetWidth,s);a("top"),e.style.left="50%",e.style.top=`-${b}px`,e.style.margin=`-${n}px 0 0 -${l/2}px`},h=e=>{o(e);const n=r("left",e.offsetWidth,s);a("bottom"),e.style.left="50%",e.style.margin=`${b}px 0 0 -${n/2}px`},S=e=>{o(e);const n=r("top",e.offsetHeight,s);a("right"),e.style.top="50%",e.style.left=`${s.offsetLeft+s.offsetWidth+b}px`,e.style.margin=`-${n/2}px 0 0 0`},w=e=>{o(e);const n=r("top",e.offsetHeight,s),l=r("left",s.offsetLeft>e.offsetWidth?s.offsetLeft-e.offsetWidth:e.offsetWidth,s);a("left"),e.style.top="50%",e.style.left=`-${b}px`,e.style.margin=`-${n/2}px 0 0 ${s.offsetLeft>e.offsetWidth?l:-l}px`},W=2;function u(e,n=1){const l=[_,h,S,w];let y=!1;function C($){if($<l.length){const k=l[$];k(e),d(e)?y=!0:C($+=1)}}C(0),y||(e.classList.add(V),n<=W&&u(e,n+=1))}switch(i){case"top":_(t),d(t)||u(t);break;case"bottom":h(t),d(t)||u(t);break;case"right":S(t),d(t)||u(t);break;case"left":w(t),d(t)||u(t);break}setTimeout(()=>{t.classList.add(P)},20)},m=t=>{t.classList.remove(P),t.classList.remove(I),t.classList.remove(V),t.setAttribute("aria-hidden","true")},E=t=>{const s=`tooltip-${Math.floor(Math.random()*9e5)+1e5}`,i=t.getAttribute("title"),a=document.createElement("span"),o=document.createElement("span"),c=t.getAttribute("data-classes");let r=t.getAttribute("data-position");return r||(r="top",t.setAttribute("data-position",r)),t.setAttribute("aria-describedby",s),t.setAttribute("tabindex","0"),t.removeAttribute("title"),t.classList.remove(M),t.classList.add(X),t.parentNode.insertBefore(a,t),a.appendChild(t),a.classList.add(M),a.appendChild(o),c&&c.split(" ").forEach(h=>a.classList.add(h)),o.classList.add(f),o.setAttribute("id",s),o.setAttribute("role","tooltip"),o.setAttribute("aria-hidden","true"),o.textContent=i,{tooltipBody:o,position:r,tooltipContent:i,wrapper:a}},Z=()=>{const t=x(`.${f}.${I}`);t&&t.forEach(s=>m(s))},z=Y({"mouseover focusin":{[A](t){const s=t.target;s.nodeName==="BUTTON"&&s.hasAttribute("title")&&E(s)},[T](t){const{trigger:s,body:i}=v(t.target);R(i,s,s.dataset.position)}},focusout:{[T](t){const{body:s}=v(t.target);m(s)}},keydown:{[J]:F({Escape:Z})}},{init(t){x(A,t).forEach(s=>{E(s);const{body:i,wrapper:a}=v(s);a.addEventListener("mouseleave",()=>m(i))})},teardown(t){x(A,t).forEach(s=>{s.removeEventListener("mouseleave",m)})},setup:E,getTooltipElements:v,show:R,hide:m});var K=z;const L=D(K),N=({label:t,position:s="top",children:i})=>{const a=O.useRef(null);return O.useLayoutEffect(()=>{var c;const o=(c=a.current)==null?void 0:c.firstChild;return o&&(o.classList.add("usa-tooltip"),o.title=t,o.setAttribute("data-position",s),L.on(o)),()=>L.off(o)}),q.jsx("span",{ref:a,children:i})};try{N.displayName="Tooltip",N.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",displayName:"Tooltip",props:{label:{defaultValue:null,description:"The text value to display in the tooltip",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"Where the tooltip will display in reference to its child",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},children:{defaultValue:null,description:"The contents of the tooltip",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}try{L.displayName="tooltip",L.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",displayName:"tooltip",props:{label:{defaultValue:null,description:"The text value to display in the tooltip",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"Where the tooltip will display in reference to its child",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},children:{defaultValue:null,description:"The contents of the tooltip",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}export{N as T};
