import{j as V}from"./jsx-runtime-CKrituN3.js";import{r as E}from"./index-CBqU2yxZ.js";import{g as D}from"./_commonjsHelpers-BosuxZz1.js";import{s as G}from"./select-or-matches-Bu-g4rUn.js";import{b as j,c as k}from"./config-BXli1stc.js";import{i as q}from"./is-in-viewport-B5ZZJcwh.js";const H=G,U=j,{prefix:p}=k,m=q,I=`.${p}-tooltip`,y=`.${p}-tooltip__trigger`,g=`${p}-tooltip__trigger`,C=`${p}-tooltip`,f=`${p}-tooltip__body`,M="is-set",P="is-visible",h=5,R=`${p}-tooltip__body--wrap`,A=t=>{const e=t.parentNode,i=e.querySelector(`.${f}`);return{trigger:t,wrapper:e,body:i}},O=(t,e,i)=>{t.setAttribute("aria-hidden","false"),t.classList.add(M);const a=s=>{t.classList.remove(`${f}--top`),t.classList.remove(`${f}--bottom`),t.classList.remove(`${f}--right`),t.classList.remove(`${f}--left`),t.classList.add(`${f}--${s}`)},o=s=>{s.style.top=null,s.style.bottom=null,s.style.right=null,s.style.left=null,s.style.margin=null},l=(s,n)=>parseInt(window.getComputedStyle(s).getPropertyValue(n),10),r=(s,n,c)=>l(c,`margin-${s}`)>0?n-l(c,`margin-${s}`):n,b=s=>{o(s);const n=r("top",s.offsetHeight,e),c=r("left",s.offsetWidth,e);a("top"),s.style.left="50%",s.style.top=`-${h}px`,s.style.margin=`-${n}px 0 0 -${c/2}px`},d=s=>{o(s);const n=r("left",s.offsetWidth,e);a("bottom"),s.style.left="50%",s.style.margin=`${h}px 0 0 -${n/2}px`},x=s=>{o(s);const n=r("top",s.offsetHeight,e);a("right"),s.style.top="50%",s.style.left=`${e.offsetLeft+e.offsetWidth+h}px`,s.style.margin=`-${n/2}px 0 0 0`},_=s=>{o(s);const n=r("top",s.offsetHeight,e),c=r("left",e.offsetLeft>s.offsetWidth?e.offsetLeft-s.offsetWidth:s.offsetWidth,e);a("left"),s.style.top="50%",s.style.left=`-${h}px`,s.style.margin=`-${n/2}px 0 0 ${e.offsetLeft>s.offsetWidth?c:-c}px`},W=2;function u(s,n=1){const c=[b,d,x,_];let L=!1;function S($){if($<c.length){const N=c[$];N(s),m(s)?L=!0:S($+=1)}}S(0),L||(s.classList.add(R),n<=W&&u(s,n+=1))}switch(i){case"top":b(t),m(t)||u(t);break;case"bottom":d(t),m(t)||u(t);break;case"right":x(t),m(t)||u(t);break;case"left":_(t),m(t)||u(t);break}setTimeout(()=>{t.classList.add(P)},20)},T=t=>{t.classList.remove(P),t.classList.remove(M),t.classList.remove(R),t.setAttribute("aria-hidden","true")},v=t=>{const e=`tooltip-${Math.floor(Math.random()*9e5)+1e5}`,i=t.getAttribute("title"),a=document.createElement("span"),o=document.createElement("span"),l=t.getAttribute("data-classes");let r=t.getAttribute("data-position");return r||(r="top",t.setAttribute("data-position",r)),t.setAttribute("aria-describedby",e),t.setAttribute("tabindex","0"),t.removeAttribute("title"),t.classList.remove(C),t.classList.add(g),t.parentNode.insertBefore(a,t),a.appendChild(t),a.classList.add(C),a.appendChild(o),l&&l.split(" ").forEach(d=>a.classList.add(d)),o.classList.add(f),o.setAttribute("id",e),o.setAttribute("role","tooltip"),o.setAttribute("aria-hidden","true"),o.textContent=i,{tooltipBody:o,position:r,tooltipContent:i,wrapper:a}},F=U({"mouseover focusin":{[I](t){const e=t.target;e.nodeName==="BUTTON"&&e.hasAttribute("title")&&v(e)},[y](t){const{trigger:e,body:i}=A(t.target);O(i,e,e.dataset.position)}},"mouseout focusout":{[y](t){const{body:e}=A(t.target);T(e)}}},{init(t){H(I,t).forEach(e=>{v(e)})},setup:v,getTooltipElements:A,show:O,hide:T});var J=F;const w=D(J),X=({label:t,position:e="top",children:i})=>{const a=E.useRef(null);return E.useLayoutEffect(()=>{var l;const o=(l=a.current)==null?void 0:l.firstChild;return o&&(o.classList.add("usa-tooltip"),o.title=t,o.setAttribute("data-position",e),w.on(o)),()=>w.off(o)}),V.jsx("span",{ref:a,children:i})};X.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",methods:[],displayName:"Tooltip",props:{label:{required:!0,tsType:{name:"string"},description:"The text value to display in the tooltip"},position:{required:!1,tsType:{name:"union",raw:"'top' | 'right' | 'bottom' | 'left'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'right'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"}]},description:"Where the tooltip will display in reference to its child",defaultValue:{value:"'top'",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:"The contents of the tooltip"}}};export{X as T};
