import{j as U}from"./jsx-runtime-D_zvdyIk.js";import{g as Y,r as N}from"./iframe-Bj_WYFuV.js";import{r as J,a as K}from"./select-or-matches-DM7yTSmT.js";import{r as X,a as Z}from"./config-ODXtjL5r.js";import{r as z}from"./is-in-viewport-ChIQrv3L.js";var C,k;function Q(){if(k)return C;k=1;const u=J(),d=K(),A=X(),{prefix:f}=Z(),n=z(),g="body",$=`.${f}-tooltip`,q=`.${f}-tooltip__trigger`,G=`${f}-tooltip__trigger`,O=`${f}-tooltip`,p=`${f}-tooltip__body`,E="is-set",R="is-visible",v=5,M=`${f}-tooltip__body--wrap`,L=t=>{const s=t.parentNode,l=s.querySelector(`.${p}`);return{trigger:t,wrapper:s,body:l}},P=(t,s,l)=>{t.setAttribute("aria-hidden","false"),t.classList.add(E);const o=e=>{t.classList.remove(`${p}--top`),t.classList.remove(`${p}--bottom`),t.classList.remove(`${p}--right`),t.classList.remove(`${p}--left`),t.classList.add(`${p}--${e}`)},i=e=>{e.style.top=null,e.style.bottom=null,e.style.right=null,e.style.left=null,e.style.margin=null},m=(e,a)=>parseInt(window.getComputedStyle(e).getPropertyValue(a),10),r=(e,a,c)=>m(c,`margin-${e}`)>0?a-m(c,`margin-${e}`):a,S=e=>{i(e);const a=r("top",e.offsetHeight,s),c=r("left",e.offsetWidth,s);o("top"),e.style.left="50%",e.style.top=`-${v}px`,e.style.margin=`-${a}px 0 0 -${c/2}px`},_=e=>{i(e);const a=r("left",e.offsetWidth,s);o("bottom"),e.style.left="50%",e.style.margin=`${v}px 0 0 -${a/2}px`},V=e=>{i(e);const a=r("top",e.offsetHeight,s);o("right"),e.style.top="50%",e.style.left=`${s.offsetLeft+s.offsetWidth+v}px`,e.style.margin=`-${a/2}px 0 0 0`},T=e=>{i(e);const a=r("top",e.offsetHeight,s),c=r("left",s.offsetLeft>e.offsetWidth?s.offsetLeft-e.offsetWidth:e.offsetWidth,s);o("left"),e.style.top="50%",e.style.left=`-${v}px`,e.style.margin=`-${a/2}px 0 0 ${s.offsetLeft>e.offsetWidth?c:-c}px`},H=2;function b(e,a=1){const c=[S,_,V,T];let I=!1;function W(w){if(w<c.length){const F=c[w];F(e),n(e)?I=!0:W(w+=1)}}W(0),I||(e.classList.add(M),a<=H&&b(e,a+=1))}switch(l){case"top":S(t),n(t)||b(t);break;case"bottom":_(t),n(t)||b(t);break;case"right":V(t),n(t)||b(t);break;case"left":T(t),n(t)||b(t);break}setTimeout(()=>{t.classList.add(R)},20)},h=t=>{t.classList.remove(R),t.classList.remove(E),t.classList.remove(M),t.setAttribute("aria-hidden","true")},x=t=>{const s=`tooltip-${Math.floor(Math.random()*9e5)+1e5}`,l=t.getAttribute("title"),o=document.createElement("span"),i=document.createElement("span"),m=t.getAttribute("data-classes");let r=t.getAttribute("data-position");return r||(r="top",t.setAttribute("data-position",r)),t.setAttribute("aria-describedby",s),t.setAttribute("tabindex","0"),t.removeAttribute("title"),t.classList.remove(O),t.classList.add(G),t.parentNode.insertBefore(o,t),o.appendChild(t),o.classList.add(O),o.appendChild(i),m&&m.split(" ").forEach(_=>o.classList.add(_)),i.classList.add(p),i.setAttribute("id",s),i.setAttribute("role","tooltip"),i.setAttribute("aria-hidden","true"),i.textContent=l,{tooltipBody:i,position:r,tooltipContent:l,wrapper:o}},j=()=>{const t=d(`.${p}.${E}`);t&&t.forEach(s=>h(s))};return C=A({"mouseover focusin":{[$](t){const s=t.target;s.hasAttribute("title")&&x(s)},[q](t){const{trigger:s,body:l}=L(t.target);P(l,s,s.dataset.position)}},focusout:{[q](t){const{body:s}=L(t.target);h(s)}},keydown:{[g]:u({Escape:j})}},{init(t){d($,t).forEach(s=>{x(s);const{body:l,wrapper:o}=L(s);o.addEventListener("mouseleave",()=>h(l))})},teardown(t){d($,t).forEach(s=>{s.removeEventListener("mouseleave",h)})},setup:x,getTooltipElements:L,show:P,hide:h}),C}var B=Q();const y=Y(B),D=({label:u,position:d="top",children:A})=>{const f=N.useRef(null);return N.useLayoutEffect(()=>{const n=f.current?.firstChild;return n&&(n.classList.add("usa-tooltip"),n.title=u,n.setAttribute("data-position",d),y.on(n)),()=>y.off(n)}),U.jsx("span",{ref:f,children:A})};try{D.displayName="Tooltip",D.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",displayName:"Tooltip",props:{label:{defaultValue:null,description:"The text value to display in the tooltip",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"Where the tooltip will display in reference to its child",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},children:{defaultValue:null,description:"The contents of the tooltip",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}try{y.displayName="tooltip",y.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",displayName:"tooltip",props:{label:{defaultValue:null,description:"The text value to display in the tooltip",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"Where the tooltip will display in reference to its child",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},children:{defaultValue:null,description:"The contents of the tooltip",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}export{D as T};
