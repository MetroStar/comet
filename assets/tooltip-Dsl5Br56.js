import{j as F}from"./jsx-runtime-CLpGMVip.js";import{r as k}from"./index-D7xSkP6m.js";import{g as Y}from"./_commonjsHelpers-Cpj98o6Y.js";import{r as J,a as K}from"./select-or-matches-DM7yTSmT.js";import{r as X,a as Z}from"./config-ODXtjL5r.js";import{r as z}from"./is-in-viewport-ChIQrv3L.js";var O,D;function Q(){if(D)return O;D=1;const u=J(),d=K(),$=X(),{prefix:f}=Z(),n=z(),v="body",E=`.${f}-tooltip`,q=`.${f}-tooltip__trigger`,G=`${f}-tooltip__trigger`,T=`${f}-tooltip`,p=`${f}-tooltip__body`,x="is-set",R="is-visible",L=5,M=`${f}-tooltip__body--wrap`,_=t=>{const s=t.parentNode,r=s.querySelector(`.${p}`);return{trigger:t,wrapper:s,body:r}},N=(t,s,r)=>{t.setAttribute("aria-hidden","false"),t.classList.add(x);const a=e=>{t.classList.remove(`${p}--top`),t.classList.remove(`${p}--bottom`),t.classList.remove(`${p}--right`),t.classList.remove(`${p}--left`),t.classList.add(`${p}--${e}`)},i=e=>{e.style.top=null,e.style.bottom=null,e.style.right=null,e.style.left=null,e.style.margin=null},h=(e,o)=>parseInt(window.getComputedStyle(e).getPropertyValue(o),10),l=(e,o,c)=>h(c,`margin-${e}`)>0?o-h(c,`margin-${e}`):o,I=e=>{i(e);const o=l("top",e.offsetHeight,s),c=l("left",e.offsetWidth,s);a("top"),e.style.left="50%",e.style.top=`-${L}px`,e.style.margin=`-${o}px 0 0 -${c/2}px`},y=e=>{i(e);const o=l("left",e.offsetWidth,s);a("bottom"),e.style.left="50%",e.style.margin=`${L}px 0 0 -${o/2}px`},P=e=>{i(e);const o=l("top",e.offsetHeight,s);a("right"),e.style.top="50%",e.style.left=`${s.offsetLeft+s.offsetWidth+L}px`,e.style.margin=`-${o/2}px 0 0 0`},V=e=>{i(e);const o=l("top",e.offsetHeight,s),c=l("left",s.offsetLeft>e.offsetWidth?s.offsetLeft-e.offsetWidth:e.offsetWidth,s);a("left"),e.style.top="50%",e.style.left=`-${L}px`,e.style.margin=`-${o/2}px 0 0 ${s.offsetLeft>e.offsetWidth?c:-c}px`},H=2;function b(e,o=1){const c=[I,y,P,V];let w=!1;function W(C){if(C<c.length){const U=c[C];U(e),n(e)?w=!0:W(C+=1)}}W(0),w||(e.classList.add(M),o<=H&&b(e,o+=1))}switch(r){case"top":I(t),n(t)||b(t);break;case"bottom":y(t),n(t)||b(t);break;case"right":P(t),n(t)||b(t);break;case"left":V(t),n(t)||b(t);break}setTimeout(()=>{t.classList.add(R)},20)},m=t=>{t.classList.remove(R),t.classList.remove(x),t.classList.remove(M),t.setAttribute("aria-hidden","true")},S=t=>{const s=`tooltip-${Math.floor(Math.random()*9e5)+1e5}`,r=t.getAttribute("title"),a=document.createElement("span"),i=document.createElement("span"),h=t.getAttribute("data-classes");let l=t.getAttribute("data-position");return l||(l="top",t.setAttribute("data-position",l)),t.setAttribute("aria-describedby",s),t.setAttribute("tabindex","0"),t.removeAttribute("title"),t.classList.remove(T),t.classList.add(G),t.parentNode.insertBefore(a,t),a.appendChild(t),a.classList.add(T),a.appendChild(i),h&&h.split(" ").forEach(y=>a.classList.add(y)),i.classList.add(p),i.setAttribute("id",s),i.setAttribute("role","tooltip"),i.setAttribute("aria-hidden","true"),i.textContent=r,{tooltipBody:i,position:l,tooltipContent:r,wrapper:a}},j=()=>{const t=d(`.${p}.${x}`);t&&t.forEach(s=>m(s))};return O=$({"mouseover focusin":{[E](t){const s=t.target;s.nodeName==="BUTTON"&&s.hasAttribute("title")&&S(s)},[q](t){const{trigger:s,body:r}=_(t.target);N(r,s,s.dataset.position)}},focusout:{[q](t){const{body:s}=_(t.target);m(s)}},keydown:{[v]:u({Escape:j})}},{init(t){d(E,t).forEach(s=>{S(s);const{body:r,wrapper:a}=_(s);a.addEventListener("mouseleave",()=>m(r))})},teardown(t){d(E,t).forEach(s=>{s.removeEventListener("mouseleave",m)})},setup:S,getTooltipElements:_,show:N,hide:m}),O}var B=Q();const A=Y(B),g=({label:u,position:d="top",children:$})=>{const f=k.useRef(null);return k.useLayoutEffect(()=>{var v;const n=(v=f.current)==null?void 0:v.firstChild;return n&&(n.classList.add("usa-tooltip"),n.title=u,n.setAttribute("data-position",d),A.on(n)),()=>A.off(n)}),F.jsx("span",{ref:f,children:$})};try{g.displayName="Tooltip",g.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",displayName:"Tooltip",props:{label:{defaultValue:null,description:"The text value to display in the tooltip",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"Where the tooltip will display in reference to its child",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},children:{defaultValue:null,description:"The contents of the tooltip",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}try{A.displayName="tooltip",A.__docgenInfo={description:"A tooltip is a short descriptive message that appears when a user hovers or focuses on an element.",displayName:"tooltip",props:{label:{defaultValue:null,description:"The text value to display in the tooltip",name:"label",required:!0,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"Where the tooltip will display in reference to its child",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},children:{defaultValue:null,description:"The contents of the tooltip",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}export{g as T};
